<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button>
        <ion-avatar class="profile-picture" (click)="redirectToUserProfile()">
          <img src="https://cdn.pixabay.com/photo/2016/04/26/07/57/woman-1353825_1280.png" alt="Profile Picture">
        </ion-avatar>
      </ion-button>
    </ion-buttons>  
    <ion-title>Dashboard</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-avatar class="settings">
          <img src="https://cdn.pixabay.com/photo/2021/07/25/08/07/administration-6491208_1280.png" alt="Settings Button">
        </ion-avatar>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
 
<ion-content>
  <ion-card>
    <ion-card-header>
      Today's Progress
    </ion-card-header>
    <ion-title class="title">
      Macronutrient Intake
    </ion-title>
    <ion-card-content>
      <ion-label color="primary">Calories</ion-label>
      <ion-item>
        <ion-progress-bar value="{{ totalCalories / dailyGoals.calories }}"></ion-progress-bar>
      </ion-item>
      <!-- Repeat for other nutrients -->
      <ion-label color="primary">Proteins</ion-label>
      <ion-item>
        <ion-progress-bar value="{{ totalProteins / dailyGoals.proteins }}"></ion-progress-bar>
      </ion-item>
      <!-- ... and so on for fats and carbs ... -->
      <ion-label color="primary">Fat</ion-label>
      <ion-item>
        <ion-progress-bar value="{{ totalFat / dailyGoals.fat }}"></ion-progress-bar>
      </ion-item>
      <ion-label color="primary">Carbs</ion-label>
      <ion-item>
        <ion-progress-bar value="{{ totalCarbs / dailyGoals.carbs }}"></ion-progress-bar>
      </ion-item>
    </ion-card-content>
  </ion-card>
 
  <!-- Scrollable List of Recent Meals -->
  <ion-item-divider color="light"> Recent Meals</ion-item-divider>
  <ion-list>
    <ion-item *ngFor="let meal of recentMeals" (click)="openMealDetail(meal)">
      <ion-thumbnail slot="start">
        <ion-img [src]="meal.image_url"></ion-img>
      </ion-thumbnail>
      <ion-label>
        <h2>{{ meal.name }}</h2>
        <p>Calories: {{ meal.calories }}</p>
        <p>Date: {{ meal.meal_date }}</p>
        <p>Time: {{ meal.meal_time }}</p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>

<!-- Nav Bar -->
<ion-footer>
  <ion-toolbar class="ion-text-center">
    <ion-grid>
      <ion-row>
        <ion-col size="4">
          <ion-button expand="block" id="home" (click)="redirectToMealHistory()">Meal History</ion-button>
        </ion-col>
        <ion-col size="4">
          <ion-button expand="block" id="add-meal" color="success" (click)="redirectToAddMeal()">Add Meal</ion-button>
        </ion-col>
        <ion-col size="4">
          <ion-button expand="block" id="ai-chat" (click)="redirectToAiChat()">AI Chat</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>

